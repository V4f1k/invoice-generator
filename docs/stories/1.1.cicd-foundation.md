# Story 1.1: Project & CI/CD Foundation

## Status
- Done

## Story
**As a** Developer,
**I want** the initial monorepo structure with frontend and backend applications set up and connected to a basic CI/CD pipeline,
**so that** we have a stable, verifiable, and automated foundation to build upon.

## Acceptance Criteria
1. The monorepo is initialized with separate packages for the Next.js frontend and the Node.js backend.
2. A developer can run a single command (e.g., `npm run dev`) to start both applications locally.
3. The backend application has a public `/health` endpoint that returns a `200 OK` status.
4. A basic CI pipeline is configured to run on pull requests (e.g., linting and installing dependencies).

## Tasks / Subtasks
- [x] **Task 1: Initialize Monorepo (AC: #1)**
  - [x] Subtask 1.1: Initialize an empty Turborepo project.
- [x] **Task 2: Create Backend Application (AC: #1, #3)**
  - [x] Subtask 2.1: Create a new Express.js application in `apps/api`.
  - [x] Subtask 2.2: Configure TypeScript for the backend application.
  - [x] Subtask 2.3: Implement a `/health` endpoint that returns a JSON object `{"status": "ok"}` with a 200 status code.
- [x] **Task 3: Create Frontend Application (AC: #1)**
  - [x] Subtask 3.1: Create a new Next.js application in `apps/web` using TypeScript.
- [x] **Task 4: Configure Development Environment (AC: #2)**
  - [x] Subtask 4.1: Create a root `package.json` script `dev` that uses `turbo run dev` to start both `api` and `web` apps concurrently.
- [x] **Task 5: Set up CI/CD Pipeline (AC: #4)**
  - [x] Subtask 5.1: Create a GitHub Actions workflow file (e.g., `.github/workflows/ci.yml`).
  - [x] Subtask 5.2: Configure the workflow to trigger on pull requests.
  - [x] Subtask 5.3: Add steps to the workflow to install dependencies (`npm install`) and run linting (`turbo run lint`).

## Dev Notes
- **i18n**: As a global project requirement, all new UI work must use the internationalization framework (see Story 4.1).
This story establishes the foundational structure outlined in the architecture document.
- **Repository**: The project will use a Turborepo monorepo. The two primary applications, `api` and `web`, will reside in the `apps/` directory.
- **Backend**: The `api` application will be a standard Node.js Express.js server using TypeScript.
- **Frontend**: The `web` application will be a standard Next.js 14 app with TypeScript.
- **CI/CD**: The CI pipeline will be implemented using GitHub Actions.

### Testing
- The primary deliverable to test in this story is the `/health` endpoint of the API. An integration test should be written to verify it returns a 200 status and the correct JSON payload.
- The CI/CD pipeline's success on a pull request will serve as the test for that component.
- Testing frameworks (Jest/Vitest) should be installed and configured as part of this foundational setup.

## Change Log
| Date       | Version | Description                | Author |
| :--------- | :------ | :------------------------- | :----- |
| 2025-08-29 | 1.0     | Initial draft              | Sarah  |
| 2025-08-29 | 1.1     | Implementation completed   | James  |

---
## Dev Agent Record
*(This section is to be filled out by the Dev Agent during implementation)*

#### Agent Model Used
Claude 3.5 Sonnet (James - Dev Agent)

#### Debug Log References
- Initial Turborepo setup with manual configuration
- Fixed ESLint v9 configuration migration
- Resolved Jest test server shutdown issue

#### Completion Notes List
- Turborepo monorepo successfully initialized with npm workspaces
- Backend API created with Express.js, TypeScript, and /health endpoint
- Frontend created with Next.js 14, TypeScript, and Tailwind CSS
- Development environment configured with single `npm run dev` command
- CI/CD pipeline configured with GitHub Actions for PR validation
- All tests passing, linting working, and build successful

#### File List
**Created:**
- `/package.json` - Root monorepo configuration
- `/turbo.json` - Turborepo configuration
- `/apps/api/package.json` - Backend package configuration
- `/apps/api/tsconfig.json` - TypeScript configuration for backend
- `/apps/api/jest.config.js` - Jest test configuration
- `/apps/api/eslint.config.mjs` - ESLint v9 configuration
- `/apps/api/src/index.ts` - Express server with /health endpoint
- `/apps/api/src/__tests__/health.test.ts` - Health endpoint test
- `/apps/web/*` - Complete Next.js application structure
- `/.github/workflows/ci.yml` - GitHub Actions CI pipeline

**Modified:**
- None (all new files)

---
## QA Results
*(This section is to be filled out by the QA Agent after development)*
