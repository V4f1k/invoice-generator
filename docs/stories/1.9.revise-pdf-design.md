# Story 1.9: Revize designu PDF šablony

## Status
- Ready for Review


## Story
**Jako** uživatel,
**chci** upravit vizuální design PDF šablony faktury, aby byla kompaktnější,
**aby** vypadala profesionálněji a vešlo se na ni více informací.

## Akceptační kritéria
1. Celkové rozložení PDF je viditelně kompaktnější s menším množstvím prázdného místa.
2. Okraje stránky (margins) jsou menší než v původním designu.
3. Pole "Datum splatnosti" je na faktuře umístěno pod blokem s informacemi o dodavateli.
4. Původní design šablony je zálohován v souboru `InvoicePDFTemplate_v1_backup.tsx`.

## Úkoly / Podúkoly
- [x] **Úkol 1: Úprava CSS stylů šablony (AC: #1, #2)**
  - [x] Podúkol 1.1: V souboru `InvoicePDFTemplate.tsx` upravit CSS tak, aby se zmenšily okraje stránky (`padding` v `body`).
  - [x] Podúkol 1.2: Redukovat vertikální mezery (`margin-bottom`) mezi hlavními bloky (hlavička, dodavatel/odběratel, položky, součty).
- [x] **Úkol 2: Změna rozložení prvků (AC: #3)**
  - [x] Podúkol 2.1: V JSX struktuře souboru `InvoicePDFTemplate.tsx` přesunout blok s daty (`.dates`) tak, aby se zobrazoval pod blokem dodavatele (`.party` - from).

## Poznámky pro vývojáře
- **i18n**: Tento úkol zahrnuje změny v UI. Ujistěte se, že veškerý statický text je implementován pomocí internacionalizačního frameworku dle Story 4.1.
- Cílem je hustší layout, ale je třeba zachovat dobrou čitelnost. Změny by měly být provedeny s citem pro design.
- Záloha původní šablony byla vytvořena v rámci tohoto úkolu.

### Testování
- Po implementaci je nutné manuálně zkontrolovat vygenerované PDF a potvrdit, že změny odpovídají zadání a že design je stále vizuálně kvalitní a přehledný.

## Dev Agent Record

### Agent Model Used
- **Model**: Claude Sonnet 4 (claude-sonnet-4-20250514)
- **Agent**: James (Full Stack Developer)
- **Date**: 2025-08-30

### Debug Log References
None

### Completion Notes
- ✅ Successfully created backup of original PDF template as `InvoicePDFTemplate_v1_backup.tsx`
- ✅ Reduced page margins from 40px to 20px for more compact layout
- ✅ Reduced vertical spacing between main blocks (header: 40px→25px, parties: 40px→25px, dates: 40px→25px, items: 40px→25px, footer: 60px→40px)
- ✅ Restructured JSX layout to place dates block directly below supplier information
- ✅ Updated CSS to support new layout with appropriate styling for supplier-section and client-section
- ✅ All PDF tests pass (13/13) - functionality verified
- ✅ TypeScript compilation successful - no type errors
- ✅ Linting passes with only minor warnings on unrelated files

### File List
- `/apps/api/src/templates/InvoicePDFTemplate_v1_backup.tsx` - Created (backup of original template)
- `/apps/api/src/templates/InvoicePDFTemplate.tsx` - Modified (main changes)

## Change Log
| Datum       | Version | Popis                | Autor |
| :--------- | :------ | :------------------------- | :----- |
| 2025-08-29 | 1.0     | Počáteční návrh            | Sally  |
