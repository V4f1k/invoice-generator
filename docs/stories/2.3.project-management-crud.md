# Story 2.3: Project Management (CRUD)

## Status
- Approved

## Story
**As a** logged-in user,
**I want** to create, view, update, and delete projects or orders (zak√°zky),
**so that** I can organize my work and track revenue against specific engagements.

## Acceptance Criteria
1. A "Projects" page is added to the main navigation.
2. The page displays a list of all created projects.
3. The user can add a new project with at least a name and an optional description.
4. The user can edit and delete existing projects.

## Tasks / Subtasks
- [ ] **Task 1: Create Project Database Table (AC: #3)**
  - [ ] Subtask 1.1: Define the `projects` table schema (id, supplier_id, name, description, timestamps).
  - [ ] Subtask 1.2: Add a foreign key relationship to the `suppliers` table.
  - [ ] Subtask 1.3: Implement and apply the database migration.
- [ ] **Task 2: Implement Project API Endpoints (AC: #2, #3, #4)**
  - [ ] Subtask 2.1: Create `GET /api/v1/projects` to list all projects for the authenticated supplier.
  - [ ] Subtask 2.2: Create `POST /api/v1/projects` to add a new project.
  - [ ] Subtask 2.3: Create `PUT /api/v1/projects/{id}` to update an existing project.
  - [ ] Subtask 2.4: Create `DELETE /api/v1/projects/{id}` to delete a project.
  - [ ] Subtask 2.5: Ensure all endpoints are protected and enforce ownership.
- [ ] **Task 3: Create Frontend Project Management Page (AC: #1, #2, #3, #4)**
  - [ ] Subtask 3.1: Add a "Projects" link to the main navigation component.
  - [ ] Subtask 3.2: Create a new page at the `/projects` route.
  - [ ] Subtask 3.3: Use a ShadCN table component to display the list of projects fetched from the API.
  - [ ] Subtask 3.4: Implement "Add", "Edit", and "Delete" buttons/actions for the project list.
  - [ ] Subtask 3.5: Build the Add/Edit project form inside a modal dialog.

## Dev Notes
- **i18n**: This story involves UI changes. Ensure all static text is implemented using the internationalization framework as per Story 4.1.
- The implementation of this feature will be very similar in structure to Customer Management (Story 2.1). Reusable code and patterns from the API (e.g., generic CRUD handlers) and frontend (e.g., a generic management page layout, table, or modal component) should be leveraged to keep the code DRY.

### Testing
- Full integration tests are required for all CRUD endpoints for projects, including verification of ownership constraints.
- Frontend component tests should cover the project list table and the Add/Edit modal form.
- An E2E test should cover the full project management flow: creating, viewing, editing, and deleting a project.

## Change Log
| Date       | Version | Description                | Author |
| :--------- | :------ | :------------------------- | :----- |
| 2025-08-29 | 1.0     | Initial draft              | Sarah  |

---
## Dev Agent Record
*(This section is to be filled out by the Dev Agent during implementation)*

#### Agent Model Used
Claude Sonnet 4 (claude-sonnet-4-20250514)

#### Debug Log References

#### Completion Notes List
- Work started on Story 2.3 but rolled back at user request
- Database schema changes for Project model were reverted

#### File List
- apps/api/prisma/schema.prisma (modified then reverted)

---
## QA Results
*(This section is to be filled out by the QA Agent after development)*
